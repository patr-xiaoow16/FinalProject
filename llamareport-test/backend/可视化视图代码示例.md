一、通用 ECharts 组件
（Line / Bar / KPI 都能用）
<!-- components/charts/LineChart.vue -->
<script setup lang="ts">
import { ref } from 'vue'
import VChart from 'vue-echarts'
import * as echarts from 'echarts'

const option = ref({
  tooltip: { trigger: 'axis' },
  xAxis: {
    type: 'category',
    data: ['2020', '2021', '2022', '2023', '2024']
  },
  yAxis: { type: 'value' },
  series: [
    {
      name: '营业收入',
      type: 'line',
      data: [100, 120, 90, 130, 160],
      markPoint: {
        data: [{ type: 'max', name: '峰值' }]
      }
    }
  ]
})
</script>

<template>
  <VChart :option="option" autoresize />
</template>


1. 风险矩阵（概率 × 影响）
// RiskMatrix.vue 中的 option 示例
const option = {
  xAxis: { name: '发生概率', min: 0, max: 5 },
  yAxis: { name: '影响程度', min: 0, max: 5 },
  series: [
    {
      type: 'scatter',
      data: [
        [4, 5, '宏观政策风险'],
        [2, 3, '客户集中度风险']
      ],
      symbolSize: 20,
      label: {
        show: true,
        formatter: (p: any) => p.data[2]
      }
    }
  ]
}

2.业务结构图（Treemap）
const option = {
  series: [
    {
      type: 'treemap',
      data: [
        { name: '零售业务', value: 60 },
        { name: '对公业务', value: 30 },
        { name: '其他', value: 10 }
      ]
    }
  ]
}


二、通用 Mermaid 渲染组件
（结构 / 流程 / 时间轴）
<!-- components/mermaid/MermaidRenderer.vue -->
<script setup lang="ts">
import { onMounted, ref, watch } from 'vue'
import mermaid from 'mermaid'

const props = defineProps<{ code: string }>()
const el = ref<HTMLDivElement | null>(null)

mermaid.initialize({ startOnLoad: false })

onMounted(() => {
  if (el.value) {
    mermaid.render('mermaid-svg', props.code).then(({ svg }) => {
      el.value!.innerHTML = svg
    })
  }
})
</script>

<template>
  <div ref="el"></div>
</template>


1.时间轴（年度大事记）
<MermaidRenderer
  :code="`
timeline
  2024 Q1 : 渠道调整启动
  2024 Q2 : 新产品上线
  2024 Q3 : 成本优化见效
  2024 Q4 : 盈利能力修复
`"
/>

2.阶段流程图（战略过程）
flowchart LR
  A[战略制定] --> B[组织调整]
  B --> C[产品落地]
  C --> D[效果验证]


